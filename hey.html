<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Special Scroll ðŸ’Œ</title>

<style>
body{
    margin:0;
    height:100svh;
    background:url("Images/background.jpg") center/cover no-repeat;
    display:flex;
    justify-content:center;
    align-items:center;
    font-family:Segoe UI, sans-serif;
    overflow:hidden;
}

/* Floating animation */
@keyframes float {
    0%{ transform:translateY(0px);}
    50%{ transform:translateY(-15px);}
    100%{ transform:translateY(0px);}
}

.main-box{
    text-align:center;
    animation:float 4s ease-in-out infinite;
    width:95%;
    max-width:380px;
}

/* Balloon */
.balloon img{
    width:110px;
}

/* Content box */
.content-box{
    background:rgba(255,255,255,0.95);
    padding:18px;
    border-radius:20px;
    margin-top:10px;
    box-shadow:0 15px 30px rgba(0,0,0,0.25);
}

/* Scroll container */
.scroll-container{
    width:100%;
    margin-top:15px;
    cursor:pointer;
}

/* Video style */
.scroll-video{
    width:100%;
    border-radius:15px;
    pointer-events:none; /* prevent default video click */
}

/* Confetti */
.confetti{
    position:fixed;
    width:10px;
    height:14px;
    top:-20px;
    animation:fall linear forwards;
}

@keyframes fall{
    to{
        transform:translateY(110vh) rotate(720deg);
        opacity:0;
    }
}
</style>
</head>

<body>

<div class="main-box">

    <div class="balloon">
        <img src="Images/balloon.png">
    </div>

    <div class="content-box">

        <div class="scroll-container" id="scrollBox">

            <video id="scrollVideo" class="scroll-video" preload="auto">
                <source src="scroll.mp4" type="video/mp4">
            </video>

        </div>

    </div>

</div>

<script>
const video = document.getElementById("scrollVideo");
const box = document.getElementById("scrollBox");

let opened = false;
let confettiDone = false;

video.removeAttribute("controls");
video.pause();
video.currentTime = 0;

/* Touch / Click */
box.addEventListener("click", function(){

    if(!opened){
        video.playbackRate = 1;
        video.play();

        if(!confettiDone){
            createConfetti(250); // MAX confetti ðŸŽŠ
            confettiDone = true;
        }

        opened = true;

    }else{
        reverseVideo();
        opened = false;
    }

});

/* Reverse video */
function reverseVideo(){
    video.playbackRate = -1;
    video.play();
}

/* Heavy Confetti */
function createConfetti(amount){
    for(let i=0;i<amount;i++){
        let conf = document.createElement("div");
        conf.className="confetti";

        conf.style.left=Math.random()*100+"vw";
        conf.style.backgroundColor=
        ["red","blue","yellow","green","pink","orange","purple","cyan","gold"][Math.floor(Math.random()*9)];

        conf.style.animationDuration=(2+Math.random()*3)+"s";
        conf.style.width=(6+Math.random()*8)+"px";
        conf.style.height=(10+Math.random()*12)+"px";

        document.body.appendChild(conf);

        setTimeout(()=>{conf.remove();},5000);
    }
}
</script>

</body>
</html>

    <div class="content-box">
        <h3>For You ðŸ’–</h3>

        <div class="scroll-container" id="scroll">
            <div class="scroll-img"></div>
            <div class="scroll-paper"></div>

            <div class="scroll-text">
                <h4>My Special Letter ðŸ’Œ</h4>
                <p>
                    This message appears as the scroll opens.
                    You can write anything beautiful here.
                </p>
            </div>
        </div>

    </div>

</div>

<audio id="bgm" src="Audio/bgm.mp3"></audio>

<script>
const scroll = document.getElementById("scroll");
const bgm = document.getElementById("bgm");
let opened = false;
let confettiDone = false;

scroll.addEventListener("click", function(){

    if(!opened){
        scroll.classList.remove("close");
        scroll.classList.add("open");
        bgm.currentTime = 0;
        bgm.play();

        if(!confettiDone){
            createConfetti();
            confettiDone = true;
        }

        opened = true;
    }else{
        scroll.classList.remove("open");
        scroll.classList.add("close");
        bgm.pause();
        bgm.currentTime = 0;
        opened = false;
    }

});

/* Confetti function */
function createConfetti(){
    for(let i=0;i<40;i++){
        let conf = document.createElement("div");
        conf.className="confetti";
        conf.style.left=Math.random()*100+"vw";
        conf.style.backgroundColor=
            ["red","blue","yellow","green","pink","orange"][Math.floor(Math.random()*6)];
        conf.style.animationDuration=(2+Math.random()*2)+"s";
        document.body.appendChild(conf);

        setTimeout(()=>{conf.remove();},4000);
    }
}
</script>

</body>
</html>

<!-- ðŸŽµ Music -->
<audio id="bgm" loop>
Â  Â  <source src="Audio/bgm.mp3" type="audio/mpeg">
</audio>

<script>
const container = document.querySelector(".scroll-container");
const bgm = document.getElementById("bgm");
bgm.volume = 0.3;

let isOpen = false;

function toggleScroll(){
Â  Â  if(!isOpen){
Â  Â  Â  Â  container.classList.remove("closing");
Â  Â  Â  Â  container.classList.add("open");
Â  Â  Â  Â  bgm.currentTime = 0;
Â  Â  Â  Â  bgm.play().catch(()=>{});
Â  Â  Â  Â  isOpen = true;
Â  Â  }else{
Â  Â  Â  Â  container.classList.remove("open");
Â  Â  Â  Â  containner.classList.add("closing");
Â  Â  Â  Â  bgm.pause();
Â  Â  Â  Â  bgm.currentTime = 0;
Â  Â  Â  Â  isOpen = false;
Â  Â  }
}
</script>

</body>
</html>


